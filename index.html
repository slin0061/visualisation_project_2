<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Wealth vs Health in Asia–Pacific</title>
  <meta name="description" content="GDP per capita and life expectancy across Asia–Pacific using Vega-Lite visualisations." />
  <link rel="stylesheet" href="styles.css" />

  <!-- Vega libraries (pin to stable versions for grading reproducibility) -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5.25.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.20.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.26.0"></script>
</head>
<body>
  <a class="skip-link" href="#main">Skip to content</a>

  <header class="site-header">
    <div class="container">
      <h1>Wealth vs Health in Asia–Pacific</h1>
      <p class="deck">
        How strongly does income relate to longevity across our region? Explore the big picture, the relationship,
        and a closer look at six countries.
      </p>
    </div>
  </header>

  <nav class="navbar" aria-label="Primary">
    <div class="container nav-inner">
      <div class="nav-left">
        <span class="nav-logo" aria-hidden="true">▲</span>
        <span class="nav-title">APAC Wealth vs Health</span>
      </div>
      <ul class="nav-links">
        <li><a href="#map">Map</a></li>
        <li><a href="#scatter">Scatter</a></li>
        <li><a href="#grid">Six-country grid</a></li>
        <li><a href="#about">About</a></li>
      </ul>
    </div>
  </nav>

  <main id="main" class="container">
    <section id="map" class="card" aria-labelledby="map-title">
      <h2 id="map-title">GDP per capita across Asia–Pacific</h2>
      <p class="subtle">Across the Asia–Pacific region, wealth is distributed unevenly — from the advanced economies of Japan, Australia, and Singapore to the emerging markets of South and Southeast Asia. The map highlights this vast economic range, showing how some nations have surged ahead while others continue to develop at a steadier pace. This disparity sets the stage for understanding how prosperity shapes broader aspects of wellbeing. Select year in the control below the map (legend at bottom). Hover for details.</p>
      <div id="viz-map" class="viz"></div>
      <figcaption class="caption">
        Source: IMF, GDP per capita (current US$). Projection: Mercator.
      </figcaption>
    </section>

    <section id="scatter" class="card" aria-labelledby="scatter-title">
      <h2 id="scatter-title">Wealth vs Health</h2>
      <p class="subtle">When comparing GDP per capita with life expectancy, a clear upward trend emerges: countries with higher incomes tend to enjoy longer lives. Economic strength often enables better healthcare, nutrition, and infrastructure, leading to improved living standards. Yet even among countries at similar wealth levels, noticeable differences appear — suggesting that policy choices, healthcare systems, and social factors also play vital roles. GDP per capita (log scale) vs life expectancy. Bubble size = population.</p>
      <div id="viz-scatter" class="viz"></div>
      <figcaption class="caption">
        Sources: IMF, World Bank (GDP per capita, Life expectancy, Population). Year selector in the chart.
      </figcaption>
    </section>

    <section id="grid" class="card" aria-labelledby="grid-title">
      <h2 id="grid-title">Six-country spotlight (decadal trend)</h2>
      <p class="subtle">Looking at six representative nations over time reveals how growth in income has generally been accompanied by longer lifespans. However, the rate of improvement differs. Japan’s life expectancy rose even after its economic growth slowed, while India and Malaysia continue to gain both wealth and years of life. The pattern confirms a strong correlation between money and longevity — but it also reminds us that true wellbeing depends on how nations invest their prosperity, not just how much they have. GDP per capita (left axis) and life expectancy (right axis). Decadal points from 1960–2020.</p>
      <div id="viz-grid" class="viz"></div>
      <figcaption class="caption">
        Countries: Australia, China, Japan, New Zealand, India, Malaysia.
      </figcaption>
    </section>

    <section id="about" class="meta card">
      <h3>About this page</h3>
      <ul class="meta-list">
        <li>Author: <span class="mono">Sam Lindsay</span></li>
        <li>Data sources: World Bank Open Data (WDI) — indicator codes
          <span class="mono">NY.GDP.PCAP.CD</span>,
          <span class="mono">SP.DYN.LE00.IN</span>,
          <span class="mono">SP.POP.TOTL</span>.
        </li>
        <li>International Monetary Fund (IMF) - https://www.imf.org/external/datamapper/NGDPDPC@WEO/OEMDC/ADVEC/WEOWORLD</li>
        <li>Tools: Vega-Lite v5, Vega-Embed.</li>
      </ul>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>Made for FIT3179 — Data Visualisation 2</p>
    </div>
  </footer>

  <script>
    function renderSpec(target, specPath, opts = {}) {
      const defaults = {
        actions: false,
        renderer: 'canvas',
        config: { autosize: { type: 'fit', contains: 'padding' } }
      };
      return vegaEmbed(target, specPath, Object.assign({}, defaults, opts));
    }

    renderSpec('#viz-map', 'GDP_APAC_Map.vg.json');
    renderSpec('#viz-scatter', 'GDP_vs_LE_scatter.vg.json');
    renderSpec('#viz-grid', 'GDP_and_LE_grid.vg.json');
  </script>
</body>
</html>
